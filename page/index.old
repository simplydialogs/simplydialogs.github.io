
<h3 id="input-autofocus">autofocus</h3>
<p>If you set <code class="javascript">autofocus: true</code>, then the input (or textarea, select)
will be focused when the dialog is shown</p>
<p><button id="btn-input-textarea-autofocus">Test input, textarea focused</button></p>

<h3 id="input-spellcheck">spellcheck</h3>
<p>Browser <code>spellcheck</code> is disabled per default and therefore <em>opt-in</em>; 
Use <code class="javascript">spellcheck: true</code> to enable spellcheck
</p>
<p><button id="btn-input-textarea-spellcheck">Test input, textarea spellcheck</button></p>

<h3 id="input-autocomplete">autocomplete</h3>
<p>Built-in browser <code>autocomplete</code> is <em>opt-in</em> as well; 
Use <code class="javascript">autocomplete: 'on'</code> to enable autocomplete (input elements only)
</p>
<p><button id="btn-input-autocomplete-textarea">Test input autocomplete, textarea</button></p>


<section id="input-form-layout">
<h3>.formLayout</h3>
<p><code>formLayout</code> can contain <code>left</code>/<code>top</code> and <code>full-width</code>. The basic layout have huge 
importance of the look of the dialog. Here all the combinations along with the input/textarea example above :</p>
<pre><code class="javascript">const options = {
  input: {
    formLayout: (not set | top | top full-width | left | left full-width | '')
    inputs: [
      ...
    ]
  }
}
</code></pre>
<p>
<button id="btn-input-form-layout-default">Default</button>
<button id="btn-input-form-layout-top">top</button>
<button id="btn-input-form-layout-top-full-width">top full-width</button>
<button id="btn-input-form-layout-left">left</button>
<button id="btn-input-form-layout-left-full-width">left full-width</button>
<button id="btn-input-form-layout-none">none (empty, undefined)</button>
</p>
</section>

<section id="input-form-validation">
<h2>Form validation</h2>
<p>
You can choose between 'native' declarative form validation by specifying form controls as <code>required</code>, 
or programmatically by passing a <code>callback</code>, that can be either a function or a promise. 
</p>

<h3>required</h3>
<p>In your options, mark one or more form controls as <code>required</code> and specify their constraints (if needed), 
just as you would have done in HTML markup. SimplyDialogs support the same limits and patterns you can build by using 
<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Attributes/required" target=_blank>required</a>
and HTML5 properties. Here is a very basic example where the user is prompted to enter a valid email address :</p>
<pre><code class="javascript">const options = {
  header: 'Enter valid email',
  icon: 'ðŸ“§',
  input: {
    inputs: [{ 
      type: 'input', 
      inputType: 'email', 
      name: 'email', 
      spellcheck: false,
      required: true //&lt;-- mark required as true
    }],
  }
}
Dlg.input('', options).then(input => {
  console.log('email', input)
})
</code></pre>
<p><button id="btn-validation-required-email">Try it out</button></p>
<p>The "magic" works, you dont even have to specify some constraints,
because an input of type email always will be invalid if the email address is invalid - thus the submit button is not enabled before
a valid email address is entered. Here is another very basic example where we are asking for a danish-style phone number, 8 digits :
</p>
<pre><code class="javascript">const options = {
  header: 'Phone number',
  icon: null,
  input: {
    inputs: [{ 
      type: 'input', 
      inputType: 'text', 
      name: 'phone', 
      label: '+45',
      required: true,
      pattern: '[0-9]{8}'
    }],
  }
}
Dlg.input('Enter 8 digit number, regional code implied', options).then(input => {
  console.log('phone', input)
})
</code></pre>
<p><button id="btn-validation-required-danish-phone-number">Test phone pattern</button> </p>
<p>
btn-validation-required-danish-phonenumber

Mark any All you need to do is to mark the form control as required 

using declarative inputs, 
You can 
There are two ways to validate form input: <code>input.callback</code> and <code>input.promise</code>. </p>
<p>
If (and only if) you specify a callback (or a promise), the submit-button is disabled and the callback will determine when it should be enabled. 
Callbacks are triggered whenever any of the inputs changes state, and the result will be handled as a boolean; i.e if you return <code>true</code> 
the submit-button will be enabled. The callback passes two params : </p>
<pre><code class="javascript">callback: function(state, dialog) {
  return true || false
}
</code></pre>
<ul>
	<li><code>state</code> is an object literal containing <code>{ name: value }</code> for all inputs.</li>
	<li><code>dialog</code> is the dialog's actual <code>HTMLDialogElement</code>, which can be used to manipulate input fields on the form (or anything else).</li>
</ul>
</section>

<section id="input-callback">
<h4>callback</h4>
<p>Example: You are not allowed to submit before you have entered the secret number 47 :</p>
<pre><code class="javascript">const options = {
  headers: { input: 'What is 42 with inflation?' },
  icons: { input: 'ðŸ––' },
  input: {
    inputs: [	
      { type: 'input', inputType: 'password', label: '', name: 'star-trek-number' }
    ],
    callback: function(state) {
      return parseInt(state['star-trek-number']) === 47
    }
  }
}
Dlg.input(null, options).then(input => {
  console.log(input)
})</code></pre>
<p><button id="btn-input-validation-callback">Try callback example</button> </p>
</section>

<section id="input-promise">
<h4>promise</h4>
<p>A promise should be used when you have more complex / time consuming validation schemes. For example, if you need to lookup an
username in your backend, to test if it is already in use. In the below we just mimick a server-side call by using a timeout :</p>
<pre><code class="javascript">const options = {
  headers: { input: 'Enter user name' },
  icons: { input: '' },
  input: {
    inputs: [	
      { type: 'input', inputType: 'text', label: '', name: 'username' }
    ],
    promise: function(state) {
      return new Promise(function(resolve) {
        if (state.username.length &lt; 5) return resolve(false)
        const letters = /^[0-9a-zA-Z]+$/
        if (!letters.test(state.username)) return resolve(false)
        setTimeout(function() {
          resolve(true)
        }, 1000)
      })
    }
  }
}
Dlg.input('Must be at least 5 characters long and may only contain letters and numbers', options).then(input => {
  console.log(input)
})</code></pre>
<p><button id="btn-input-validation-promise">Try promise example</button> </p>
</section>

<section id="input-login-dialog">
<h3>Login Dialog</h3>
<p>Here is an example of how to show a modal login-dialog. Notice the use of <code>autocomplete: off</code> which turns off annoying auto suggestions : </p>
<pre><code class="javascript">const options = {
  headers: { input: 'Login' },
  icons: { input: 'ðŸ”‘' },
  input: {
    inputs: [	
      { type: 'input', inputType: 'text', label: 'Username', name: 'username', autocomplete: 'off' },
      { type: 'input', inputType: 'password', label: 'Password', name: 'password' }  
    ],
    callback: function(state) {
      return state.username.length > 0 && state.password.length > 0
    }
  }
}
Dlg.input('', options).then(input => {
  console.log('login', input)
  // { username: '...', password: '...' }
})
</code></pre>
<p><button id="btn-input-login-dialog">Test login dialog</button> </p>
</section>

<section id="input-file">
<h3>File input with preview</h3>
<p>You kan combine a <code>image</code> type input with a <code>file</code> type input, and by that create an
image-upload-dialog with preview. It takes a little more options-tweaks than the prior examples: </p>
<pre><code class="javascript">const options = {
  headers: { input: 'Upload Image' },
  icons: { input: 'ðŸ–¼' },
  input: {
    inputs: [
      { type: 'input', 
        inputType: 'image', 
        label: 'Preview', 
        name: 'preview', 
        alt: 'No image yet', 
        disabled: 'disabled',
        src: 'data:image/svg+xml,&lt;svg xmlns="http://www.w3.org/2000/svg"/>',
        style: 'min-height: 30vh; max-height: 50vh; border: 1px solid #dadada; object-fit: contain;' 
      }, { 
        type: 'input', 
        inputType: 'file', 
        label: 'Image', 
        name: 'file', 
        accept: 'image/png, image/gif, image/jpeg' 
      }
    ],
    callback: function(state, dialog) {
      if (state.file) {
        dialog.querySelector('input[type="image"]').src = URL.createObjectURL(state.file)
        return true
      }
    }
  }
}
Dlg.input('Select image file &lt;br>&lt;sup>(PNG, GIF, JPG supported)&lt;/sup>', options).then(function(input) {
  console.log('image upload', input)
})
</code></pre>
<p><button id="btn-input-file">Test image upload</button> </p>
</section>
</section> <!-- advanced-input -->



